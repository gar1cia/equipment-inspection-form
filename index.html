<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Vehicle / Heavy Equipment Pre-Use Inspection Checklist</title>

  <style>
    :root{
      /* COLORS */
      --heading:#00007e;   /* subheadings + radio selection */
      --btn:#283e8a;       /* buttons */
      --bg:#f6f7fb;
      --card:#ffffff;
      --ink:#000000;       /* title */
      --text:#111827;
      --muted:#6b7280;
      --line:#e5e7eb;

      /* UI */
      --shadow: 0 10px 24px rgba(17,24,39,.08);
      --radius:16px;
      --tap:48px;

      /* TYPE */
      --itemFont: 14px;
      --sectionFont: calc(var(--itemFont) * 1.6);
      --sectionSubFont: calc(var(--sectionFont) * 0.72);
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
    }

    .wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 14px;
      padding-bottom: calc(14px + env(safe-area-inset-bottom));
    }

    /* HEADER */
    .brandbar{
      display:flex;
      flex-direction: column;
      align-items:center;
      gap: 10px;
      text-align:center;
      padding: 18px 14px;
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      margin-bottom: 12px;
    }

    .brandbar img{
      width: min(260px, 70vw);
      height: auto;
    }

    h1{
      margin: 0;
      font-size: clamp(26px, 6.2vw, 40px);
      line-height: 1.12;
      letter-spacing: -.01em;
      color: var(--ink);
    }

    .card{
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 14px;
    }

    /* SECTION HEADERS */
    .section{
      margin: 30px 0 12px;
    }
    .section:first-of-type{ margin-top:0; }

    .section .title{
      font-size: var(--sectionFont);
      font-weight: 900;
      letter-spacing: .08em;
      text-transform: uppercase;
      color: var(--heading);
    }

    .section .sub{
      margin-top: 6px;
      font-size: var(--sectionSubFont);
      font-weight: 900;
      letter-spacing: .06em;
      text-transform: uppercase;
      color: var(--heading);
    }

    label{
      font-size: 12px;
      color: var(--muted);
      margin: 12px 0 6px;
      display:block;
    }

    /* INPUTS – force identical width + left alignment (iOS safe) */
    input,
    select,
    textarea{
      display:block;
      width:100%;
      max-width:100%;
      min-height: var(--tap);
      padding: 12px;
      border-radius: 12px;
      border: 1px solid var(--line);
      background:#fff;
      color: var(--text);
      font-size:16px; /* prevent iOS zoom */
      text-align:left;
    }

    textarea{ min-height:110px; resize:vertical; }

    input[readonly]{ background:#f9fafb; }

    /* iOS date/time left-align + width fix */
    input[type="date"],
    input[type="time"]{
      -webkit-appearance:none;
      appearance:none;
    }

    input[type="date"]::-webkit-date-and-time-value,
    input[type="time"]::-webkit-date-and-time-value{
      text-align:left;
    }

    input[type="date"]::-webkit-datetime-edit,
    input[type="time"]::-webkit-datetime-edit{
      text-align:left;
    }

    /* GRID */
    .grid2{
      display:grid;
      grid-template-columns: 1fr;
      gap:10px;
    }
    .grid3{
      display:grid;
      grid-template-columns: 1fr;
      gap:10px;
    }
    @media(min-width:900px){
      .grid3{ grid-template-columns:1fr 1fr 1fr; }
    }

    .grid2 > div,
    .grid3 > div{ min-width:0; }

    /* RADIO GROUPS */
    input[type="radio"]{ accent-color: var(--heading); }

    .item{
      border:1px solid var(--line);
      border-radius:14px;
      padding:12px;
      margin-bottom:10px;
    }

    .desc{
      font-size:var(--itemFont);
      margin-bottom:8px;
    }

    .yn{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }

    .ynlabel{
      display:flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border:1px solid var(--line);
      border-radius:999px;
      min-height:var(--tap);
    }

    /* SPECIFY spacing fix */
    input[name="sectionIISpecify"]{
      margin-bottom:10px;
    }

    /* PDF */
    details{
      margin-top:22px;
      border:1px solid var(--line);
      border-radius:14px;
      overflow:hidden;
    }
    summary{
      padding:14px;
      text-align:center;
      font-weight:900;
      font-size:18px;
      color:var(--heading);
      cursor:pointer;
    }
    summary::-webkit-details-marker{ display:none; }

    iframe{
      width:100%;
      height:70vh;
      border:0;
    }

    /* LIABILITY BOX */
    .liability-text{
      border:1px solid var(--line);
      border-radius:14px;
      padding:12px;
      margin-bottom:12px;
      font-size:14px;
      line-height:1.35rem;
    }

    /* STICKY SUBMIT */
    .stickybar{
      position:sticky;
      bottom:0;
      margin-top:16px;
      padding:10px;
      border:1px solid var(--line);
      border-radius:var(--radius);
      background:rgba(255,255,255,.95);
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
    }

    .stickybar .left{
      font-size:12px;
      color:var(--muted);
    }

    button{
      min-height:var(--tap);
      padding:12px 18px;
      border-radius:14px;
      border:1px solid var(--line);
      background:#fff;
      font-weight:900;
      cursor:pointer;
    }

    button.primary{
      background:rgba(40,62,138,.08);
      color:var(--btn);
      border-color:rgba(40,62,138,.35);
    }
  </style>
</head>

<body>
<div class="wrap">

  <div class="brandbar">
    <img src="./gjhh-logo.png" alt="G&J Heavy Haul logo">
    <h1>Vehicle / Heavy Equipment Pre-Use Inspection Checklist</h1>
  </div>

  <div class="card">

    <!-- GENERAL EQUIPMENT INFO -->
    <div class="section">
      <div class="title">GENERAL EQUIPMENT INFORMATION</div>
    </div>

    <label>Equipment No.</label>
    <input type="text" name="equipmentNo">

    <details>
      <summary>View PDF Reference</summary>
      <iframe src="./OF-296_Equipment%20Checklist.pdf"></iframe>
    </details>

    <!-- PRE-USE INSPECTION -->
    <div class="section">
      <div class="title">PRE-USE INSPECTION</div>
    </div>

    <button class="primary" onclick="stampNow()">Set Date/Time to Now</button>

    <div class="grid3">
      <div>
        <label>Status</label>
        <select name="preUseStatus">
          <option value="">—</option>
          <option>Accepted</option>
          <option>Rejected</option>
        </select>
      </div>
      <div>
        <label>Miles / Hrs</label>
        <input type="text" name="preUseMilesHrs">
      </div>
      <div>
        <label>Date</label>
        <input type="date" name="preUseDate">
      </div>
      <div>
        <label>Time</label>
        <input type="time" name="preUseTime">
      </div>
    </div>

    <!-- SECTION I -->
    <div class="section">
      <div class="title">SECTION I — HEAVY EQUIPMENT</div>
      <div class="sub">SAFE TO OPERATE?</div>
    </div>
    <div id="heavyItems"></div>

    <!-- SECTION II -->
    <div class="section">
      <div class="title">SECTION II — ATTACHMENTS / PUMP / CHAINSAW / OTHER</div>
      <div class="sub">SAFE TO OPERATE?</div>
    </div>

    <label>Specify (optional)</label>
    <input type="text" name="sectionIISpecify">
    <div id="attachItems"></div>

    <!-- SECTION III -->
    <div class="section">
      <div class="title">SECTION III — LIABILITY</div>
    </div>

    <div class="liability-text">
      The purpose of this checklist is to document pre-existing vehicle/equipment condition and to determine suitability for incident use.
      I hereby acknowledge full responsibility and liability for the operation and mechanical condition of the vehicle/equipment described herein.
    </div>

    <label>Operator Printed Name</label>
    <input type="text" name="operatorName">

    <label>Operator Signature (typed)</label>
    <input type="text" name="operatorSignature">

    <label>Date</label>
    <input type="date" name="operatorDate">

    <!-- SECTION IV -->
    <div class="section">
      <div class="title">SECTION IV — TRANSPORT OR SUPPORT VEHICLES</div>
      <div class="sub">SAFE TO OPERATE?</div>
    </div>
    <div id="transportItems"></div>

    <!-- SECTION V -->
    <div class="section">
      <div class="title">SECTION V — REMARKS</div>
    </div>

    <textarea name="remarks"></textarea>

    <!-- RELEASE -->
    <div class="section">
      <div class="title">RELEASE</div>
    </div>

    <div class="grid3">
      <div>
        <label>No Damage / No Claim</label>
        <select name="releaseNoDamage">
          <option value="">—</option>
          <option>Yes</option>
          <option>No</option>
        </select>
      </div>
      <div>
        <label>Miles / Hrs</label>
        <input type="text" name="releaseMilesHrs">
      </div>
      <div>
        <label>Date</label>
        <input type="date" name="releaseDate">
      </div>
      <div>
        <label>Time</label>
        <input type="time" name="releaseTime">
      </div>
      <div>
        <label>Operator Printed Name</label>
        <input type="text" name="releaseOperatorName">
      </div>
      <div>
        <label>Operator Signature (typed)</label>
        <input type="text" name="releaseOperatorSignature">
      </div>
    </div>

    <div class="stickybar">
      <div class="left">
        Submit opens an email draft to salud.madrigal@gjheavyhaul.com using the device’s default mail app.
      </div>
      <button class="primary" onclick="submitEmail()">Submit</button>
    </div>

  </div>
</div>

<script>
  const heavy = [
    "1. ROPS, roll-over protection system: Manufacturer-approved system secured to mainframe of tractor. Must include approved seat belts.",
    "2. Gauges and lights: mounted and function properly.",
    "3. Battery: check for corrosion, loose terminals, and hold downs."
  ];

  const attach = [
    "1. No missing/broken components, no loose hardware.",
    "2. Sufficient fluid levels (oil, coolant, etc.)."
  ];

  const transport = [
    "1. DOT / CVSA inspection current (if required).",
    "2. Gauges and lights operate properly."
  ];

  function render(container, items, prefix){
    const el = document.getElementById(container);
    items.forEach((t,i)=>{
      el.innerHTML += `
        <div class="item">
          <div class="desc">${t}</div>
          <div class="yn">
            <label class="ynlabel"><input type="radio" name="${prefix}${i}" value="Yes">Yes</label>
            <label class="ynlabel"><input type="radio" name="${prefix}${i}" value="No">No</label>
            <label class="ynlabel"><input type="radio" name="${prefix}${i}" value="" checked>N/A</label>
          </div>
        </div>`;
    });
  }

  render("heavyItems", heavy, "h");
  render("attachItems", attach, "a");
  render("transportItems", transport, "t");

  function stampNow(){
    const d = new Date();
    const date = d.toISOString().slice(0,10);
    const time = d.toTimeString().slice(0,5);
    ["preUseDate","operatorDate","releaseDate"].forEach(n=>{
      const e=document.querySelector(`[name="${n}"]`);
      if(e) e.value=date;
    });
    ["preUseTime","releaseTime"].forEach(n=>{
      const e=document.querySelector(`[name="${n}"]`);
      if(e) e.value=time;
    });
  }

  function submitEmail(){
    const subject = "G&J Pre-Use Inspection";
    const body = "Pre-Use Inspection completed.";
    location.href =
      `mailto:salud.madrigal@gjheavyhaul.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
  }
</script>
</body>
</html>
