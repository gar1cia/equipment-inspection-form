<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Vehicle / Heavy Equipment Pre-Use Inspection Checklist</title>

  <style>
    :root{
      --accent:#283e8a;
      --bg:#f6f7fb;
      --card:#ffffff;
      --ink:#111827;
      --muted:#6b7280;
      --line:#e5e7eb;
      --shadow: 0 10px 24px rgba(17,24,39,.08);
      --radius:16px;
      --tap:48px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--ink);
    }

    .wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 14px;
      padding-bottom: calc(14px + env(safe-area-inset-bottom));
    }

    .brandbar{
      display:flex;
      align-items:center;
      gap:12px;
      padding: 10px 12px;
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      margin-bottom: 12px;
    }

    .brandbar img{
      width: 110px;
      height: auto;
      object-fit: contain;
    }

    h1{
      margin: 0;
      font-size: clamp(22px, 5.2vw, 34px); /* bigger title */
      line-height: 1.15;
      letter-spacing: -.01em;
    }

    .sub{
      margin-top: 2px;
      color: var(--muted);
      font-size: 13px;
    }

    .card{
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 14px;
    }

    h2{
      margin: 0 0 10px;
      font-size: 13px;
      color: var(--muted);
      font-weight: 700;
      letter-spacing: .06em;
      text-transform: uppercase;
    }

    label{
      display:block;
      font-size: 12px;
      color: var(--muted);
      margin: 12px 0 6px;
    }

    input[type="text"], input[type="date"], input[type="time"], textarea, select{
      width:100%;
      padding: 12px 12px;
      border-radius: 12px;
      border: 1px solid var(--line);
      background: #fff;
      color: var(--ink);
      outline: none;
      min-height: var(--tap);
      font-size: 16px; /* prevents iOS zoom */
    }

    input[readonly]{
      background: #f9fafb;
    }

    textarea{
      min-height: 110px;
      resize: vertical;
    }

    .grid2{
      display:grid;
      gap: 10px;
      grid-template-columns: 1fr;
    }
    @media (min-width: 720px){
      .grid2{ grid-template-columns: 1fr 1fr; }
    }

    .grid3{
      display:grid;
      gap: 10px;
      grid-template-columns: 1fr;
    }
    @media (min-width: 900px){
      .grid3{ grid-template-columns: 1fr 1fr 1fr; }
    }

    .items{
      border-top: 1px solid var(--line);
      margin-top: 14px;
      padding-top: 14px;
    }

    .item{
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
      padding: 12px;
      border: 1px solid var(--line);
      border-radius: 14px;
      margin-bottom: 10px;
      background: #fff;
    }

    .desc{
      font-size: 14px;
      line-height: 1.25rem;
    }

    .yn{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items:center;
    }

    .ynlabel{
      display:flex;
      align-items:center;
      gap: 8px;
      padding: 10px 12px;
      border: 1px solid var(--line);
      border-radius: 999px;
      background: #fff;
      min-height: var(--tap);
      user-select:none;
    }

    .ynlabel input{
      width: 18px;
      height: 18px;
    }

    /* Buttons */
    .btns{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 12px;
    }

    button{
      min-height: var(--tap);
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: #fff;
      color: var(--ink);
      cursor: pointer;
      font-size: 15px;
    }

    button.primary{
      border-color: rgba(40,62,138,.35);
      background: rgba(40,62,138,.08);
      color: var(--accent);
      font-weight: 700;
    }

    button.danger{
      color:#b42318;
      background:#fff;
      border-color:#fecaca;
    }

    button:active{ transform: translateY(1px); }

    .note{
      font-size: 12px;
      color: var(--muted);
      line-height: 1.25rem;
      margin-top: 10px;
    }

    /* PDF behind button (details/summary = mobile friendly) */
    details{
      margin-top: 10px;
      border: 1px solid var(--line);
      border-radius: 14px;
      background: #fff;
      overflow:hidden;
    }
    summary{
      list-style:none;
      cursor:pointer;
      padding: 12px 14px;
      min-height: var(--tap);
      display:flex;
      align-items:center;
      gap: 10px;
      font-weight: 700;
      color: var(--accent);
    }
    summary::-webkit-details-marker{ display:none; }
    .pdfwrap{
      border-top: 1px solid var(--line);
      padding: 10px;
    }
    iframe{
      width:100%;
      height: 70vh;
      border: 1px solid var(--line);
      border-radius: 12px;
      background:#fff;
    }

    /* Sticky submit bar for mobile */
    .stickybar{
      position: sticky;
      bottom: 0;
      margin-top: 14px;
      padding: 10px;
      border: 1px solid var(--line);
      border-radius: var(--radius);
      background: rgba(255,255,255,.92);
      backdrop-filter: blur(8px);
      box-shadow: var(--shadow);
      display:flex;
      gap: 10px;
      justify-content: space-between;
      align-items:center;
    }
    .stickybar .left{
      font-size: 12px;
      color: var(--muted);
      line-height: 1.1rem;
    }
    .stickybar .right{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: flex-end;
    }
  </style>
</head>

<body>
  <div class="wrap">

    <div class="brandbar">
      <!-- Put the logo file in the same folder and name it exactly "gjhh-logo.png" -->
      <img src="./gjhh-logo.png" alt="G&J Heavy Haul logo">
      <div>
        <h1>Vehicle / Heavy Equipment Pre-Use Inspection Checklist</h1>
        <div class="sub">G&J Heavy Haul, Inc. • Mobile-optimized • Email submit</div>
      </div>
    </div>

    <div class="card">
      <h2>General equipment information</h2>

      <div class="grid2">
        <!-- Removed: Incident Name/No., Resource Order No., Agreement No., Expiration Date -->

        <div>
          <label>Contractor Name</label>
          <input type="text" name="contractorName" value="G&J Heavy Haul" readonly />
        </div>

        <div>
          <label>Make / Model</label>
          <input type="text" name="makeModel" />
        </div>

        <div>
          <label>Equipment Type</label>
          <input type="text" name="equipmentType" />
        </div>

        <div>
          <label>VIN / Serial No.</label>
          <input type="text" name="vinSerial" />
        </div>

        <div>
          <label>License No. / State</label>
          <input type="text" name="licenseState" />
        </div>
      </div>

      <details>
        <summary>View PDF reference</summary>
        <div class="pdfwrap">
          <div class="note" style="margin-top:0;">
            Put the PDF in the same folder as this HTML and name it <code>OF-296_Equipment Checklist.pdf</code>.
          </div>
          <iframe src="./OF-296_Equipment%20Checklist.pdf" title="OF-296 PDF"></iframe>
        </div>
      </details>

      <div class="items">
        <h2>Section I — Heavy equipment (Yes / No)</h2>
        <div id="heavyItems"></div>

        <h2>Section II — Attachments / Pump / Chainsaw / Other (Yes / No)</h2>
        <label>Specify (optional)</label>
        <input type="text" name="sectionIISpecify" placeholder="e.g., broom, water truck pump, chainsaw, etc." />
        <div id="attachItems"></div>

        <h2>Pre-use inspection</h2>
        <div class="grid3">
          <div>
            <label>Status</label>
            <select name="preUseStatus">
              <option value="">—</option>
              <option value="Accepted">Accepted</option>
              <option value="Rejected">Rejected</option>
            </select>
          </div>
          <div>
            <label>Miles / Hrs</label>
            <input type="text" name="preUseMilesHrs" inputmode="decimal" />
          </div>
          <div>
            <label>Date</label>
            <input type="date" name="preUseDate" />
          </div>
          <div>
            <label>Time</label>
            <input type="time" name="preUseTime" />
          </div>
          <div>
            <label>Inspector Printed Name</label>
            <input type="text" name="inspectorName" />
          </div>
          <div>
            <label>Inspector Title</label>
            <input type="text" name="inspectorTitle" />
          </div>
        </div>

        <h2>Section III — Liability</h2>
        <div class="grid2">
          <div>
            <label>Operator Printed Name</label>
            <input type="text" name="operatorName" />
          </div>
          <div>
            <label>Operator Title</label>
            <input type="text" name="operatorTitle" />
          </div>
          <div>
            <label>Operator Signature (typed)</label>
            <input type="text" name="operatorSignature" placeholder="Type full name" />
          </div>
          <div>
            <label>Date</label>
            <input type="date" name="operatorDate" />
          </div>
        </div>

        <h2>Section IV — Transport or support vehicles (Yes / No)</h2>
        <div id="transportItems"></div>

        <h2>Release</h2>
        <div class="grid3">
          <div>
            <label>No Damage / No Claim</label>
            <select name="releaseNoDamage">
              <option value="">—</option>
              <option value="Yes">Yes</option>
              <option value="No">No</option>
            </select>
          </div>
          <div>
            <label>Miles / Hrs</label>
            <input type="text" name="releaseMilesHrs" inputmode="decimal" />
          </div>
          <div>
            <label>Date</label>
            <input type="date" name="releaseDate" />
          </div>
          <div>
            <label>Time</label>
            <input type="time" name="releaseTime" />
          </div>
          <div>
            <label>Inspector Printed Name</label>
            <input type="text" name="releaseInspectorName" />
          </div>
          <div>
            <label>Operator Printed Name</label>
            <input type="text" name="releaseOperatorName" />
          </div>
        </div>

        <h2>Section V — Remarks</h2>
        <label>Describe all unsatisfactory items and identify by line number</label>
        <textarea name="remarks"></textarea>

        <div class="stickybar">
          <div class="left">
            Submit opens an email draft to <strong>paul@archercivilllc.com</strong> using the device’s default mail app.
          </div>
          <div class="right">
            <button class="primary" type="button" onclick="submitEmail()">Submit</button>
            <button class="danger" type="button" onclick="resetForm()">Clear</button>
          </div>
        </div>

        <p class="note">
          If an email client truncates very long messages, the next upgrade is a server workflow (Power Automate / webhook)
          that emails and archives the submission automatically.
        </p>
      </div>
    </div>
  </div>

<script>
  // Checklist items retained as-is
  const heavy = [
    "1 ROPS / seat belt",
    "2 Gauges & lights",
    "3 Battery condition",
    "4 Engine running: oil pressure/knocks/leaks",
    "5 Sweeps/deflectors/screens",
    "6 Steering components",
    "7 Brakes",
    "8 Exhaust spark arrester (if required)",
    "9 Fuel system",
    "10 Cooling system",
    "11 Fan & belts",
    "12 Engine support/equalizer/springs",
    "13 Belly plate/guards/clean",
    "14 Final drive/trans/diff leaks",
    "15 Sprockets/idlers",
    "16 Tracks/rollers",
    "17 Dozer & assembly",
    "18 Rear hitch/drawbar",
    "19 Body/cab condition",
    "20 Cleanliness (flammables/weeds/invasive)",
    "21 Hydraulics/attachments operate; hoses/lines ok",
    "22 Backup/travel alarm",
    "23 Oil level/condition"
  ];

  const attach = [
    "1 No missing/broken components; hardware tight",
    "2 Fluids sufficient (oil/coolant/etc.)",
    "3 Cutting bar straight; chain good (if applicable)",
    "4 Cutting teeth sharp (if applicable)",
    "5 Pump builds pressure; no leaks (if applicable)",
    "6 Engine starts/idles/shuts off (if applicable)"
  ];

  const transport = [
    "1 DOT/CVSA inspection current (if required)",
    "2 Gauges & lights",
    "3 Seat belts",
    "4 Glass/mirrors",
    "5 Wipers/washer/horn",
    "6 Clutch adjustment (if applicable)",
    "7 Cooling system",
    "8 Fluid levels/condition",
    "9 Battery condition",
    "10 Fuel system",
    "11 Electrical: alternator/starter",
    "12 Engine running: oil pressure/knocks/leaks",
    "13 Transmission leaks",
    "14 Steering components",
    "15 Brakes",
    "16 4WD transfer case (if applicable)",
    "17 Driveline U-joints",
    "18 Suspension systems",
    "19 Differentials",
    "20 Exhaust system",
    "21 Frame/body/bed attached",
    "22 Tires/wheels/spare; tread; damage",
    "23 Body/interior condition documented",
    "24 Emergency equipment (extinguisher/fuses/reflectors)",
    "25 Licensed operator info"
  ];

  function renderYN(containerId, items, prefix) {
    const root = document.getElementById(containerId);
    items.forEach((t, idx) => {
      const key = `${prefix}_${idx+1}`;
      const el = document.createElement("div");
      el.className = "item";
      el.innerHTML = `
        <div class="desc">${t}</div>
        <div class="yn" role="group" aria-label="${t}">
          <label class="ynlabel"><input type="radio" name="${key}" value="Yes"> Yes</label>
          <label class="ynlabel"><input type="radio" name="${key}" value="No"> No</label>
          <label class="ynlabel"><input type="radio" name="${key}" value="" checked> —</label>
        </div>
      `;
      root.appendChild(el);
    });
  }

  renderYN("heavyItems", heavy, "heavy");
  renderYN("attachItems", attach, "attach");
  renderYN("transportItems", transport, "transport");

  function getValue(name) {
    const el = document.querySelector(`[name="${name}"]`);
    if (!el) return "";
    if (el.type === "radio") {
      const sel = document.querySelector(`[name="${name}"]:checked`);
      return sel ? sel.value : "";
    }
    return (el.value || "").trim();
  }

  function getRadioVal(groupName) {
    const sel = document.querySelector(`input[name="${groupName}"]:checked`);
    return sel ? sel.value : "";
  }

  function collectData() {
    return {
      contractorName: getValue("contractorName"),
      makeModel: getValue("makeModel"),
      equipmentType: getValue("equipmentType"),
      vinSerial: getValue("vinSerial"),
      licenseState: getValue("licenseState"),
      sectionI: heavy.map((t, i) => ({ item: t, val: getRadioVal(`heavy_${i+1}`) })),
      sectionIISpecify: getValue("sectionIISpecify"),
      sectionII: attach.map((t, i) => ({ item: t, val: getRadioVal(`attach_${i+1}`) })),
      preUseStatus: getValue("preUseStatus"),
      preUseMilesHrs: getValue("preUseMilesHrs"),
      preUseDate: getValue("preUseDate"),
      preUseTime: getValue("preUseTime"),
      inspectorName: getValue("inspectorName"),
      inspectorTitle: getValue("inspectorTitle"),
      operatorName: getValue("operatorName"),
      operatorTitle: getValue("operatorTitle"),
      operatorSignature: getValue("operatorSignature"),
      operatorDate: getValue("operatorDate"),
      sectionIV: transport.map((t, i) => ({ item: t, val: getRadioVal(`transport_${i+1}`) })),
      releaseNoDamage: getValue("releaseNoDamage"),
      releaseMilesHrs: getValue("releaseMilesHrs"),
      releaseDate: getValue("releaseDate"),
      releaseTime: getValue("releaseTime"),
      releaseInspectorName: getValue("releaseInspectorName"),
      releaseOperatorName: getValue("releaseOperatorName"),
      remarks: getValue("remarks")
    };
  }

  function formatEmailBody(d) {
    const ynLine = (arr) => arr.map(x => `${x.item}: ${x.val || "—"}`).join("\n");

    return [
      "VEHICLE / HEAVY EQUIPMENT PRE-USE INSPECTION",
      "",
      `Contractor Name: ${d.contractorName}`,
      `Make/Model: ${d.makeModel}`,
      `Equipment Type: ${d.equipmentType}`,
      `VIN/Serial No.: ${d.vinSerial}`,
      `License No./State: ${d.licenseState}`,
      "",
      "SECTION I — HEAVY EQUIPMENT",
      ynLine(d.sectionI),
      "",
      `SECTION II — ATTACHMENTS/OTHER (Specify): ${d.sectionIISpecify}`,
      ynLine(d.sectionII),
      "",
      "PRE-USE INSPECTION",
      `Status: ${d.preUseStatus}`,
      `Miles/Hrs: ${d.preUseMilesHrs}`,
      `Date: ${d.preUseDate}`,
      `Time: ${d.preUseTime}`,
      `Inspector: ${d.inspectorName} (${d.inspectorTitle})`,
      "",
      "SECTION III — LIABILITY",
      `Operator: ${d.operatorName} (${d.operatorTitle})`,
      `Signature (typed): ${d.operatorSignature}`,
      `Date: ${d.operatorDate}`,
      "",
      "SECTION IV — TRANSPORT/SUPPORT VEHICLES",
      ynLine(d.sectionIV),
      "",
      "RELEASE",
      `No Damage/No Claim: ${d.releaseNoDamage}`,
      `Miles/Hrs: ${d.releaseMilesHrs}`,
      `Date: ${d.releaseDate}`,
      `Time: ${d.releaseTime}`,
      `Inspector: ${d.releaseInspectorName}`,
      `Operator: ${d.releaseOperatorName}`,
      "",
      "REMARKS",
      d.remarks || "—"
    ].join("\n");
  }

  function submitEmail() {
    const d = collectData();

    const subjectParts = [
      "G&J Pre-Use Inspection",
      d.makeModel || d.equipmentType || "",
      d.licenseState || "",
      d.preUseDate || ""
    ].filter(Boolean);

    const subject = subjectParts.join(" | ");
    const body = formatEmailBody(d);

    const mailto = `mailto:paul@archercivilllc.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
    window.location.href = mailto;
  }

  function resetForm() {
    // Keep contractorName prefilled/readonly
    document.querySelectorAll('input[type="text"]:not([name="contractorName"]), input[type="date"], input[type="time"], textarea')
      .forEach(el => el.value = "");
    document.querySelectorAll('select').forEach(el => el.value = "");

    ["heavy","attach","transport"].forEach(prefix => {
      document.querySelectorAll(`input[name^="${prefix}_"]`).forEach(r => {
        if (r.value === "") r.checked = true;
      });
    });
  }
</script>
</body>
</html>
